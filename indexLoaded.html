<!doctype html>
<html>
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" href="https://use.typekit.net/uxg6tuv.css">
	<link rel="stylesheet" href="main.css">
	
	<title>Andrew Thompson</title>
	
	<style></style>
	
	<script>
		var timerID = 0; 
		var indexOnExit = 0;
		var baseURL = window.location.href;
		
		var caption = [
			["UNICEF Kid Power Band", "Advertising Campaign", "img/unicef.png", "#unicef"],
			["Ocean Spray", "Advertising Campaign", "img/os.png", "#os"]
		];
				
		function changeCaption(){
			var slideNum = this.currentSlide;
			$(".siemaName").html(caption[slideNum][0]);
			$(".siemaCaption").html(caption[slideNum][1]);
		}
		
		function nextSlide(){
			mySiema.next();
		}
		
		function runBarba() {
			Barba.Pjax.start();
			
			var FadeTransition = Barba.BaseTransition.extend({
			  start: function() {
				Promise
				  .all([this.newContainerLoading, this.fadeOut()])
				  .then(this.fadeIn.bind(this));
			  },

			  fadeOut: function() {
				return $(this.oldContainer).animate({ opacity: 0 }).promise();
			  },

			  fadeIn: function() {
				var _this = this;
				var $el = $(this.newContainer);

				$(this.oldContainer).hide();

				$el.css({
				  visibility : 'visible',
				  opacity : 0
				});

				$el.animate({ opacity: 1 }, 400, function() {
				  _this.done();
				});
			  }
			});

			Barba.Pjax.getTransition = function() {
			  return FadeTransition;
			};
		}
		
		
	$(document).ready(function(){
		runBarba();
		
		$(".logo").center({against: '#main'});
		$(".bio").center({against: '#left'});
		$(".bio").css('left', 0);
		
		const tilt = $('.portfolioTile').tilt({
			maxTilt: 5,
			perspective: 250
		});

		for(var i = 0; i < caption.length; i++) {		// preload portfolio pages
			loadPortfolioContent(i);
		}



		var logoLeftVal = '-=' + (((parseInt($(".logo").css('left'),10) + 25) / $('#main').width())) * (1 * $('#main').width()).toString();
		var logoTopVal = '-=' + (((parseInt($(".logo").css('top'),10) + 25) / $('#main').height())) * (1 * $('#main').height()).toString();

		console.log($('#main').width() + " " + $('#main').height());
		console.log(logoLeftVal + " " + logoTopVal);

		if ($(window).width() < 600) { 
			$('#left').css('width', '100%').css('height', '50%');
			$('.bio').css('width', "100%").css('top', '50%').css('font-size', '1.5em');
			
			$('.links').css('top', '0').css('right', '0').css('width', '40%').css('text-align', 'right');
		} else {
			
		}
		

		$('.logo').css('width', $('.logo').css('width')/2).css('left', logoLeftVal).css('top', logoTopVal);
		$('.bio').css('opacity', 1);
		$('.links').css('opacity', 1);
		
		if ($(window).width() < 600) { 					//MOBILE
			$('#right').css('width', '100%').css('bottom', '0').css('right', '50%').css('background-color', '#ffaeae');
		} else {
			$('#right').css('height', '100%').css('width', '50%');
		}
		
		$('.siema', '.siemaName', '.siemaCaption', '.backButton', '.forwardButton').css('opacity', 1);
		
		const mySiema = new Siema({
			selector: '.siema',
			duration: 1200,
			easing: "cubic-bezier(0.19, 1, 0.22, 1)",
			loop: true,
			onInit: changeCaption,
			onChange: changeCaption
		});
		
		timerID = window.setInterval(() => mySiema.next(), 3000);

		const prev = document.querySelector('.backButton');
		const next = document.querySelector('.forwardButton');

		next.addEventListener('click', () => mySiema.next());
		prev.addEventListener('click', () => mySiema.prev());
		
	});
	</script>
</head>

<body>
	
	<div id="barba-wrapper">
	<div class="barba-container">
	<div id="main"> 
		<div class="logo"></div>
		<div id="left">
			<div class="left">
				<div class="bio">Andrew Thompson <i>is an </i>advertising major <i>at </i>Johnson & Wales University <i>in </i>Providence, Rhode Island. <i>He specializes in </i>UI/UX <i>and </i>Graphic Design.</div>
				<div class="links">
					<p><a href="resume.pdf">Resume</a></p>
					<p><a href="linkedin.com/in/andrew-l-thompson">Linkedin</a></p>
					<p><a href="mailto:me@andrewthompson.me">Contact</a></p>
				</div>
			</div>
		</div>
		<div id="right">
			<div class="right"></div>
			<div class="siema">
				<div>
					<img src="img/unicef.png" style="width: 100%; padding-left: -10%; padding-top: -10%;">
				</div>
				<div>
<!--					<div style="background-image: url('img/os.png'); background-repeat: no-repeat; background-size: cover; background-position: center; width: 100%; height: 100%; position: absolute;"></div>-->
					<img src="img/os.png" style="height: 100%; padding-left: -10%; padding-top: -10%;">
				</div>
			</div>
			<div class="siemaName"></div>
			<div class="siemaCaption"></div>
			<div class="backButton button"><svg class="svg-icon" viewBox="0 0 20 20">
<path fill="none" d="M18.271,9.212H3.615l4.184-4.184c0.306-0.306,0.306-0.801,0-1.107c-0.306-0.306-0.801-0.306-1.107,0
L1.21,9.403C1.194,9.417,1.174,9.421,1.158,9.437c-0.181,0.181-0.242,0.425-0.209,0.66c0.005,0.038,0.012,0.071,0.022,0.109
c0.028,0.098,0.075,0.188,0.142,0.271c0.021,0.026,0.021,0.061,0.045,0.085c0.015,0.016,0.034,0.02,0.05,0.033l5.484,5.483
c0.306,0.307,0.801,0.307,1.107,0c0.306-0.305,0.306-0.801,0-1.105l-4.184-4.185h14.656c0.436,0,0.788-0.353,0.788-0.788
S18.707,9.212,18.271,9.212z"></path>
</svg></div>
			<div class="forwardButton button"><svg class="svg-icon" viewBox="0 0 20 20">
<path fill="none" d="M1.729,9.212h14.656l-4.184-4.184c-0.307-0.306-0.307-0.801,0-1.107c0.305-0.306,0.801-0.306,1.106,0
l5.481,5.482c0.018,0.014,0.037,0.019,0.053,0.034c0.181,0.181,0.242,0.425,0.209,0.66c-0.004,0.038-0.012,0.071-0.021,0.109
c-0.028,0.098-0.075,0.188-0.143,0.271c-0.021,0.026-0.021,0.061-0.045,0.085c-0.015,0.016-0.034,0.02-0.051,0.033l-5.483,5.483
c-0.306,0.307-0.802,0.307-1.106,0c-0.307-0.305-0.307-0.801,0-1.105l4.184-4.185H1.729c-0.436,0-0.788-0.353-0.788-0.788
S1.293,9.212,1.729,9.212z"></path>
</svg></div>
		</div>
	</div>
	<div id="work">
		<div data-tilt class="portfolioTile" style="grid-row: 1 / 2; background-image: url(img/unicef.jpg);" onclick="$('#barba-wrapper').load('unicef.html');">
			<div class="portfolioTileName">UNICEF Kid Power Band</div>
			<div class="portfolioTileCaption">Advertising Campaign</div>
		</div>
		
		<div class="portfolioTile" style="grid-row: 2 / 3; background-image: url(img/os_cover.png)">
			<div class="portfolioTileName">Ocean Spray</div>
			<div class="portfolioTileCaption">Advertising Campaign</div>
		</div>
		
		<div class="portfolioTile" style="grid-row: 3 / 4; background-image: url(img/pangea.png)">
			<div class="portfolioTileName">Pangea.app</div>
			<div class="portfolioTileCaption">UI/UX, Advertising, Branding</div>
			
		</div>
		
		<div class="portfolioTile" style="grid-row: 4 / 5; background-image: url(img/bhddh_cover.png)">
			<div class="portfolioTileName">BHDDH</div>
			<div class="portfolioTileCaption">Branding</div>
		</div>
		
		<div class="portfolioTile" style="grid-row: 5 / 6; background-image: url(img/cas_cover.png)">
			<div class="portfolioTileName">CAS</div>
			<div class="portfolioTileCaption">UI/UX, Advertising, Branding</div>
		</div>
		
		<div class="portfolioTile" style="grid-row: 6 / 7; background-image: url(img/moveout_cover.png)">
			<div class="portfolioTileName">Move Out + Donate</div>
			<div class="portfolioTileCaption">Advertising Campaign</div>
		</div>
	</div>
	</div>
	</div>
</body>
</html>
